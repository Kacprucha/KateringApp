<div>
  <h1>Statistics</h1>
</div>
<div>
  <div class="h-[50vh]">
    <canvas id="sale-statistic-chart" class="max-h-full max-w-full">{{ chart }}</canvas>
  </div>
</div>
<div class="flex space-x-4 mt-2">
  <div class="flex flex-col space-y-2 w-1/4">
    <label class="font-semibold">Start date:</label>
    <input 
      type="date" 
      [(ngModel)]="startDate" 
      (change)="generateChart()"
      [max]="maxDate"
      [disabled]="selectedPeriod !== 'NO PERIOD'"
      class="border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
    >
  </div>

  <div class="flex flex-col space-y-2 w-1/4">
    <label class="font-semibold">End date:</label>
    <input 
      type="date" 
      [(ngModel)]="endDate"
      (change)="generateChart()"
      [max]="maxDate"
      [disabled]="selectedPeriod !== 'NO PERIOD'"
      class="border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
    >
  </div>
  <button
    *ngFor="let period of dataPeriods"
    (click)="onPeriodChange(period)"
    [ngClass]="{
      'border-blue-500': selectedPeriod === period,
      'border-gray-300': selectedPeriod !== period
    }"
    class="px-4 py-2 border-2 rounded-md focus:outline-none"
  >
    {{ period }}
  </button>
</div>